<?xml version="1.0"?>
<launch>

  <!-- Load gazebo world -->
  <include file="$(find neo_gazebo)/launch/gazebo_world.launch" />

  <!-- Load description -->
  <include file="$(find neo_description)/launch/NX63A1_upload.launch" />

  <!-- push robot_description to factory and spawn robot in gazebo -->
  <node name="gazebo_model_spawner" pkg="gazebo_ros" type="spawn_model" respawn="false" output="screen" args="-urdf -param /robot_description -model NX63A1" />

  <!-- Load joint controller configurations from YAML file to parameter server -->
  <include file="$(find neo_gazebo)/launch/controller_utils.launch"/>

  <rosparam file="$(find neo_gazebo)/controller/arm_controller.yaml" command="load"/>
  <node name="arm_controller_spawner" pkg="controller_manager" type="controller_manager" respawn="false" output="screen" args="load arm_controller" />
  <node name="joint_group_position_controller_manager" pkg="controller_manager" type="controller_manager" respawn="false" output="screen" args="spawn joint_group_position_controller" />

  <!-- Joint controller script -->
  <node name="joint_controllers" pkg="neo_gazebo" type="joint_controllers.py" output="screen" >
    <param name="use_gui" value="true" />
  </node>

</launch>
